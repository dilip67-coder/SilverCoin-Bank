<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transfer page</title>
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
<!-- custom css file link  -->
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>

<header>

    <a href="#" class="logo"><span>SilverCoin</span>BANK<i class="fa fa-bank"></i></a>
    

    <input type="checkbox" id="menu-bar">
    <label for="menu-bar" class="fa fa-bars"></label>

    <nav class="navbar">
        <a href="/">home<i class="fa fa-home"></i></a>
        <a href="/openAccount">Create Account<i class="fa fa-user-plus"></i></a>
        <a href="/fundTransfer">Fund Transfer<i class="fa fa-exchange"></i></a>
        <a href="/loan.html">Loan<i class="fas fa-donate"></i></a>
        <a href="/eStatement">E_Statment<i class="fas fa-receipt"></i></a>
        <a href="/update">Updation<i class="fas fa-cash-register"></i></a>
        <a href="../cibilScore">Cibil Score<i class="fas fa-balance-scale"></i></a>
        <a href="/card">My Card<i class="fa fa-credit-card" ></i></a>
        <a href="/equity/0">Equity info<i class="fa fa-star" ></i></a>
    </nav>

</header>
    <section class="home" id="home">
        <div class="form1" >
            <h1  style="color:white;">Select Bank</h1>
            <div class="input">
                <div class="inputBox">
                <table style="background-color: black;">
                <tr> 
                        <td> <input type="radio" data-bs-toggle="modal" data-bs-target="#exampleModal1" name="#pay"  ></td>
                        <td style="color:white;"><h2>Same Bank(No Charges)</h2></td></tr>
                <tr> 
                        <td> <input type="radio" value="" data-bs-toggle="modal" data-bs-target="#exampleModal1" 
                        name="#pay" id="dif" onclick="diff();"></td>
                        <td style="color:white;"><h2>Different Bank(Charges)</h2></td></tr>
                 
                     </table>
                     <ul style="color:white; font-size: small;" >
                      <li>Above 10,000(2%)</li>
                          <li>Above 25,000(5%)</li>
                                  <li>Above 50,000(10%)</li>
                    </ul>   
               </div>
        </div>
      </div>
    
    </section>

  
  <!-- Modal 1 payment methods -->
  <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Select Payment Method</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
 
                <div class="form" >
               
                    <div class="und">
                        <table class="">
                            <tr class="">
                                <td style="color:white;"><h1>UPI ID</h1></td>
                                <td><input type="radio" value="" data-toggle="modal" data-target="#upi" name="#pay"
                                    data-bs-toggle="modal" data-bs-target="#uupi" id="upi"  ></td>
                                </tr>
                            <tr>
                                <td style="color:white"><h1>Debit Card</h1></td>
                                <td><input type="radio" value="" data-toggle="modal" data-target="#debit" name="#pay"
                                    data-bs-toggle="modal" data-bs-target="#debit" id="de"  ></td>
                                </tr>
                            <tr style="color:white">
                                <td ><h1>Account</h1></td>
                                <td> <input type="radio" value="" data-toggle="modal" data-target="#account" name="#pay"
                                    data-bs-toggle="modal" data-bs-target="#account" id="ac" ></td>
                                </tr>
                             
                        </table>
                    </div>
                  
                </div>

           
        </div>
       
      </div>
    </div>
  </div>

<!-- Modal 2 upi method -->
  <div class="modal fade" id="uupi" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Receiver's upi details.</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" style="color: black; font-size: 18px; font-weight: 800; font-family: 'Courier New', Courier, monospace; ">
       <!--  <form action="/upiidt"> -->
        
                    <div class="inputBox">  
                        <input type="text" name="upiId" id="upno" placeholder="Enter UPI Id" style="background-color: bisque;">
                    </div> <br>        
          					 
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#pass" data-bs-toggle="modal" data-bs-target="#pass"
          onclick="upidata();">Continue To Pay</button>
        </div>
        				
    <!--     </form> -->
        
      </div>
      
    </div>
  </div>

  <!-- Modal 3 debit method -->
  <div class="modal fade" id="debit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Enter receiver's debit card details.</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <!-- Debit card-->
        <div class="modal-body" style="color: black; font-size: 18px; font-weight: 800; font-family: 'Courier New', Courier, monospace; ">
      <!--   <form action="/debitt"> -->
           <div class="inputBox">
           
                  
                    <input type="number" name="cardNum" id="dcno" placeholder="Enter Debit Card Number" style="background-color: bisque;">
                </div> <br>
                <div class="inputBox">
                   
                    <input type="text" name="cardHolderName" id="dcname" placeholder="Card Holder Name" style="background-color: bisque;">
                </div><br>
               <br>
             
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
           <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#pass" data-bs-toggle="modal"
           data-bs-target="#pass" onclick="debitdata()">Continue To Pay</button>
        </div>
      <!--   </form> -->
      </div>
    </div>
  </div>
  
  <!-- Modal 4 account method -->
  <div class="modal fade" id="account" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Enter receiver's account details.</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" style=" align-items: center;
        color: black; font-size: 18px; font-weight: 800; font-family: 'Courier New', Courier, monospace; ">
          <!-- account method -->
          
         <!--  <form action="/acct"> -->
          <div class="inputBox">
            <input type="number" name="accNum" id="accno" placeholder="Enter Account Number"  style="background-color: bisque;">
        </div><br>
        
        <div class="inputBox">
            <input type="text" name="accountHolderName" id="accHolderName" placeholder="Enter Account Number"  style="background-color: bisque;">
        </div><br>
        
        
        <div class="inputBox">
           
            <input type="text" name="ifscCode" id="ifsccode" placeholder="Reciever IFSC Code" style="background-color: bisque;">
        </div><br>
        <br>
     
        </div>
        <div class="modal-footer">
             </div>    
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#pass" data-bs-toggle="modal"
           data-bs-target="#pass" onclick="accountdata()">Continue To Pay</button>
     <!--    </form> -->
      </div>
     
    </div>
  </div>
  
  <!-- Modal 5 Enter Password method -->
  <div class="modal fade" id="pass" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Enter Your Password</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" style=" align-items: center;
        color: black; font-size: 18px; font-weight: 800; font-family: 'Courier New', Courier, monospace; ">
          <!-- account method -->
          <form action="/transferfund">
          <div class="inputBox">
         
         <div class="inputBox">
         <input type="number" name="amount" id="amount" placeholder="Amount to Pay" onchange="chargesApply();" 
         style="background-color: bisque;">
         </div>  
            <br>
            <input type="password" name="password" id="userPass" placeholder="Enter Your Password" 
            style="background-color: bisque;">
        
        </div><br>
        
        <div>
        	<span style="color: red;">Charges ₹: </span><span id="charges" style="color: red">0</span><br>
        	<span>Total Amount ₹: </span> <span id="total"> </span> <br>
        	
        	<input type="hidden" name="bankType" id="bank"> 
        </div>
        <div>
          <input type="hidden" name="charges" id="inputcharges">
        	<input type="hidden" name="totalAmount" id="inputtotal">
        </div>
        	
         <input type="hidden" id="hiddenUpi" name="upiId" style="color: red;">
        
          <input type="hidden" id="hiddenDcno" name="cardNum" style="color: red;">
          <input type="hidden" id="hiddenDcname" name="cardHolderName" style="color: red;">
        
          <input type="hidden" id="hiddenAccno" name="accNum" style="color: red;">
          <input type="hidden" id="hiddenIfsc" name="ifscCode" style="color: red;">
          <input type="hidden" id="hiddenAccHolderName" name="accountHolderName" style="color: red;">
         
         
        <input type="hidden" name="customerAccountNum"  th:value="${accountNum}" style="color: red;">
         
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">cancel</button>
          <button type="submit" class="btn btn-primary">Send</button>
        </div>
        </form>
       
       <input type="text" th:value="${password}" id="originPass">
     	  
      </div>
    </div>
  </div>
  
<!-- comparing login data -->
<script th:inline="javascript"> 
function checkPass(){
	originPass = document.getElementById("originPass").value;
	userPass = document.getElementById("userPass").value;
	
	/* console.log(originPass, userPass); */
}

function setValue(){
	var username = document.getElementById("username").value;
	var password = document.getElementById("password").value;
	var flag = false;
	var data = /*[[${loginData}]]*/
	
		data.forEach(( data ) => {
			  /* console.log(data.userName); */
			  if(data.userName === username && data.password === password){
		  			   
		  			  console.log(data.userName);
		  			  console.log(username)
		  			  
		  			  console.log(data.password)
		  			  console.log(password)
		  			  flag=true;
			  }
			});
	
	if(flag){
		 $("#exampleModal1").modal('show');
	}else{
		window.alert("Please check Your Username or Password");
	}
}

	
	function  upidata(){
	var upi=document.getElementById("upno").value;
	/* var amo=document.getElementById("am1").value; */
 document.getElementById("hiddenUpi").value = upi;
/*  document.getElementById("hiddenAmt1").value = amo; */
	
		//console.log(upi,amo)	
	}
	
	
	function  debitdata(){
		var dcno=document.getElementById("dcno").value;
		var dcname=document.getElementById("dcname").value;
		/* var amo=document.getElementById("am2").value; */
	 document.getElementById("hiddenDcno").value = dcno;
	 document.getElementById("hiddenDcname").value = dcname;
	/*  document.getElementById("hiddenAmt2").value = amo; */
	}
	
	
	function  accountdata(){
		var accno=document.getElementById("accno").value;
		var ifsc=document.getElementById("ifsccode").value;
		var accHolderName=document.getElementById("accHolderName").value;
		/* var amo=document.getElementById("am3").value; */
	 document.getElementById("hiddenAccno").value = accno;
	 document.getElementById("hiddenIfsc").value = ifsc;
	 document.getElementById("hiddenAccHolderName").value = accHolderName;
	/*  document.getElementById("hiddenAmt3").value = amo; */
	}
	
	
	function diff(){
		var di=document.getElementById("dif").value = "different";
		  //console.log(di);
		 document.getElementById("upi").value=di;
		 document.getElementById("de").value=di;
		 document.getElementById("ac").value=di;
		 
	}
	
	
	function chargesApply(){
		 console.log(document.getElementById("dif").value);
		 var diff = document.getElementById("dif").value
		 var amount = document.getElementById("amount").value
		 var charges = 0;
		// console.log(amount)
		 if(diff === "different"){
		  document.getElementById("bank").value="different";
			 if(amount < 9999){
				 charges = (0*amount) / 100;
				 
				 document.getElementById("charges").innerHTML = charges;
				 document.getElementById("total").innerHTML = parseInt(charges) + parseInt(amount);
				 
				/*  for inputes */
				 document.getElementById("inputcharges").value = charges;
				 document.getElementById("inputtotal").value = parseInt(charges) + parseInt(amount);
			 }
			 else if(amount >= 10000 && amount <= 25000){
				 charges = (2*amount) / 100;
				 document.getElementById("charges").innerHTML = charges;
				 document.getElementById("total").innerHTML = parseInt(charges) + parseInt(amount);
				 
				 /*  for inputes */
				 document.getElementById("inputcharges").value = charges;
				 document.getElementById("inputtotal").value = parseInt(charges) + parseInt(amount);
			 }
			 else if(amount >= 25001 && amount <= 50000){
				 charges = (5*amount) / 100;
				 document.getElementById("charges").innerHTML = charges;
				 document.getElementById("total").innerHTML = parseInt(charges) + parseInt(amount);
				 
				 /*  for inputes */
				 document.getElementById("inputcharges").value = charges;
				 document.getElementById("inputtotal").value = parseInt(charges) + parseInt(amount);
			 }
			 else{
				 charges = (10*amount) / 100;
				 document.getElementById("charges").innerHTML = charges;
				 document.getElementById("total").innerHTML = parseInt(charges) + parseInt(amount);
				 
				 /*  for inputes */
				 document.getElementById("inputcharges").value = charges;
				 document.getElementById("inputtotal").value = parseInt(charges) + parseInt(amount);
			 }
		 }else{
			 document.getElementById("bank").value="same bank";
			 document.getElementById("total").innerHTML = parseInt(charges) + parseInt(amount);
			 
			 /*  for inputes */
			 document.getElementById("inputcharges").value = charges;
			 document.getElementById("inputtotal").value = parseInt(charges) + parseInt(amount);
		 }
	}
	
	

	
// Enable Thymeleaf inlining 
  	/*const flag = [[${flag}]]
  	var flag = document.getElementById("flags").value;
  		if(flag){
  			$(document).ready(function(){
  			  $("#myBtn").click(function(){
  			    $("#exampleModal1").modal();
  			  });
  			});
  			}*/
  						
</script>
</body>
</html>